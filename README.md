# GreatCircleDistance Problem

Implements a calculator for the great circle distance between two longitude/latitude pairs according to the first formula of the wikipedia article [Great-circle distance](https://en.wikipedia.org/wiki/Great-circle_distance). The program is designed to calculate whether a list of customers is within range of a specified longitude/latitude.

## How to run

Follow these instructions to run the app

### Prerequisites

You will need .Net Core SDK version 2.2+ to run this application. It was developed using the SDK version 2.2.401. Install it from here: [Download .NET Core](https://dotnet.microsoft.com/download)

### Running the project

Navigate to the folder you extracted the project to and find the spheredistanceApp folder. Open a command prompt at this location and run with the below command:

```
.../spheredistanceApp>dotnet run
```

.Net Core should automatically restore dependencies and run the project. If it doesn't, you may attempt to run the restore command and then trying again.

```
.../spheredistanceApp>dotnet restore
```

### Input and Output

The application is set up to run with the defaults as defined by the problem statement. Input may be customized by specifying one or more of the below arguments:

```
dotnet run /inputFile="./sample/customers.txt" /outputFile="./sample/output.txt" /earthRadiusKm=6371.0088 /officeLongitude=-6.238335 /officeLatitude=53.2451022 /rangeKm=100
```

The above example contains the defaults for the application's arguments.

The input file - customers.txt - must contain one exactly customer per line in the following format:

```
{"latitude": "<latValueDouble>", "user_id": <int>, "name": "Name1", "longitude": "<longitudeValueDouble>"}
{"latitude": "<latValueDouble>", "user_id": <int>, "name": "Name2", "longitude": "<longitudeValueDouble>"}
...more
```

If any field is missing for each customer, a default value of 0 (or "Unknown" for name) will be used and a warning will appear in the console. If the syntax is incorrect, the corresponding line will be ignored. If a customer is broken down into two lines, it will also be ignored as incorrect syntax.

The output file will contain a list of customers within the range specified (default = 100km) in the following format:

```
ID: <int>; Name: Name1
ID: <int>; Name: Name2
...more
```

Sample output, generated by executing the app with default parameters, is available at spheredistance/spheredistanceApp/sample/output.txt

## Tests

The application comes with unit tests for each of it's services. To run the tests, navigate to the folder you extracted the project to and find the spheredistanceApp.Tests folder. Run the below command to run the tests

```
dotnet test
```
